(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{1196:function(e,t,s){Promise.resolve().then(s.bind(s,4542))},4542:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var n=s(7437),l=s(2265),i=s(34);let r=(void 0).VITE_SUPABASE_URL,o=(void 0).VITE_SUPABASE_ANON_KEY;if(console.log("\uD83D\uDD0D DEBUG: SUPABASE_URL from env:",r?"FOUND":"NOT FOUND"),console.log("\uD83D\uDD0D DEBUG: SUPABASE_ANON_KEY from env:",o?"FOUND":"NOT FOUND"),!r||!o)throw console.error("❌ ERROR: Missing Supabase environment variables"),console.error("Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file"),Error("Missing Supabase configuration. Check your environment variables.");let a=(0,i.eI)(r,o,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"public"}});function c(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,o]=(0,l.useState)(null);return((0,l.useEffect)(()=>{(async function(){try{i(!0);let{data:e,error:s}=await a.from("photos").select("\n            id,\n            title,\n            caption,\n            image_url,\n            likes_count,\n            comments_count,\n            album_id\n          ").order("created_at",{ascending:!1});if(s){console.error("Error fetching photos:",s),o(s.message);return}let{data:n,error:l}=await a.from("albums").select("id, title");if(l){console.error("Error fetching albums:",l),o(l.message);return}let r=new Map((null==n?void 0:n.map(e=>[e.id,e.title]))||[]),c=(null==e?void 0:e.map(e=>({id:e.id,title:e.title,caption:e.caption,image_url:e.image_url,likes_count:e.likes_count,comments_count:e.comments_count,album_name:e.album_id&&r.get(e.album_id)||null})))||[];t(c)}catch(e){console.error("Error:",e),o("Failed to fetch photos")}finally{i(!1)}})()},[]),s)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"text-xl",children:"Loading photos..."})}):r?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-xl text-red-500",children:["Error: ",r]})}):(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Photo Gallery"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,n.jsx)("img",{src:e.image_url,alt:e.title,className:"w-full h-48 object-cover"}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.title}),e.caption&&(0,n.jsx)("p",{className:"text-gray-600 mb-3",children:e.caption}),e.album_name&&(0,n.jsxs)("p",{className:"text-sm text-blue-600 mb-2",children:["Album: ",e.album_name]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,n.jsxs)("span",{children:["❤️ ",e.likes_count||0]}),(0,n.jsxs)("span",{children:["\uD83D\uDCAC ","number"==typeof e.comments_count?e.comments_count:0]})]})]})]},e.id))}),0===e.length&&(0,n.jsx)("div",{className:"text-center text-gray-500 mt-8",children:"No photos found"})]})}console.log("\uD83D\uDD0D DEBUG: Final SUPABASE_URL being used:",a.supabaseUrl)}},function(e){e.O(0,[34,971,23,744],function(){return e(e.s=1196)}),_N_E=e.O()}]);